#summary jfox3安装指南，comming...
#labels Phase-Support

= 介绍 =

本指南介绍如何基于Tomcat安装JFox3 Application Server。

= 资源下载 =
 * 下载Tomcat http://tomcat.apache.org
 * 下载JFox3 http://code.google.com/p/jfox

= 安装JFox=
 * 安装Tomcat
 详细过程请参考 Tomat 安装手册...
 * 部署JFox
 将下载的 jfox3.war 拷贝到 %TOMCAT_HOME%/webapps 下，启动Tomcat，jfox3即作为一个Web application部署在Tomcat中，该Web application将具备jfox3所提供的一切功能，EJB3 Container、JPA、JFox MVC等。
 * 配置
 jfox3部署之后，是一个标准的 Web application 的目录结构，有一个WEB-INF目录，这里放着除了html、image、jsp之外的所有资源，但是WEB-INF下的有些目录和文件对于jfox3却是意义重大的。
 
 *jfox3/WEB-INF/web.xml
 jfox3 web application 的配置文件，有这些重要的内容。
 {{{
这里配置了JFox启动时需要的加载的模块列表，如果你开发了新的模块，请在这里添加。
<context-param>
 <param-name>MODULES</param-name>
 <param-value>/WEB-INF/MODULES/manager,/WEB-INF/MODULES/petstore</param-value>
</context-param>
 }}}

 {{{
这里配置模块中模板文件所在的目录，如下的配置表明每个模块的 views目录为模板文件所在的目录。
<context-param>
 <param-name>VIEW_DIR</param-name>
 <param-value>views</param-value>
</context-param>
 }}}
 
 {{{
这里配置Servlet Action的访问时，url后缀。
<context-param>
 <param-name>ACTION_SUFFIX</param-name>
 <param-value>.do</param-value>
</context-param>
 }}}

 {{{
这里配置了JFox3的controller servlet，并用来响应所有/modules/*开头的url，controller servlet会负责根据url而把请求分发到正确的模块中，如：/modules/petstore/index.jsp，访问的是 petstore 模块中的 index.jsp
<servlet>
 <servlet-name>controller_servlet</servlet-name>
 <servlet-class>net.sourceforge.jfox.mvc.servlet.ControllerServlet</servlet-class>
 <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
 <servlet-name>controller_servlet</servlet-name>
 <url-pattern>/modules/*</url-pattern>
</servlet-mapping>
 }}}
 {{{
这里配置JFox3的TemplateServlet，并为TemplateServlet配置了VelocityRender，同时指出*.vm,*.tmpl,*.vhtm,*.vhtml后缀的文件由VelocityRender负责渲染成html页面；servlet-mapping配置说明所有url后缀*.tmpl,*.vhtml的请求会由TemplateServlet负责响应，TempletServlet会根据init-param的配置再分发给不同的Render来处理。
<servlet>
 <servlet-name>template_servlet</servlet-name>
 <servlet-class>net.sourceforge.jfox.mvc.servlet.TemplateServlet</servlet-class>
 <init-param>
  <description>velocity render</description>
  <param-name>net.sourceforge.jfox.mvc.velocity.VelocityRender</param-name>
  <param-value>*.vm,*.tmpl,*.vhtm,*.vhtml</param-value>
  </init-param>
 <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
 <servlet-name>template_servlet</servlet-name>
 <url-pattern>*.tmpl</url-pattern>
</servlet-mapping>
<servlet-mapping>
<servlet-mapping>
 <servlet-name>template_servlet</servlet-name>
 <url-pattern>*.vhtml</url-pattern>
</servlet-mapping>
.
.
.
 }}}

 *jfox3/WEB-INF/MODUELS

 *jfox3/WEB-INF/MODUELS/manager

 jfox3的配置非常简单，需要的配置的内容包括web.xml以及persistence.xml。

= JFox Module介绍 =







